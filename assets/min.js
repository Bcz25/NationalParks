'use strict';const parksArray="Acadia;Arches;Badlands;Big Bend;Biscayne;Black Canyon;Bryce Canyon;Canyonlands;Capitol Reef;Carlsbad;Channel Islands;Congaree;Crater Lake;Cuyahoga Valley;Death Valley;Denali;Dry Tortugas;Everglades;Gates of the Arctic;Gateway Arch;Glacier Bay;Grand Canyon;Grand Teton;Great Basin;Great Sand Dunes;Great Smokey Mountains;Guadalupe Mountains;Haleakal\u0101;Hawai\u02bbi volcanoes;Hot Springs;Indiana Dunes;Isle Royale;Joshua Tree;Katmai;Kenai Fjords;Kings Canyon;Kobuk Valley;Lake Clark;Lassen Volcanic;Mammoth Cave;Mesa Verde;Mount Rainier;New River Gorge;North Cascades;Olympic;Petrified Forest;Pinnacles;Redwood;Rocky Mountain;Saguaro;Sequoia;Shenandoah;Theodore Roosevelt;Virgin Islands;Voyageurs;White Sands;Wind Cave;Elias;Yellowstone;Yosemite;Zion".split(";"),
parkNameEl=document.getElementById("park-name"),parkDescriptionEl=document.getElementById("description"),parkWeatherEl=document.getElementById("weather"),parkActivitiesEl=document.getElementById("activities"),searchTerm=getRandomPark(),weatherApiKey="d819c0f02622027c482907b6666513c6",weatherApiUrl="https://api.openweathermap.org/data/2.5/forecast",forecastContainer=document.getElementById("park-forecast"),infoContainer=document.getElementById("parkInfo"),dashboard=document.getElementById("dashboard"),
searchButton=document.getElementById("search-button"),searchInput=document.getElementById("search-input");
searchButton.addEventListener("click",function(c){c.preventDefault();const a=searchInput.value;fetch(`${"https://developer.nps.gov/api/v1/parks"}?q=${a}&api_key=${"zsg1JUezGGMHKiM4K9RLRe95wfbFzkZKZx5wr4V4"}`).then(b=>{if(!b.ok)throw Error("Network response was not ok");return b.json()}).then(b=>{if(b=b.data.find(e=>e.fullName.toLowerCase().includes(a.toLowerCase()))){const e=b.activities.map(d=>d.name);b={park:b.fullName,description:b.description,weather:b.weatherInfo,activities:e};createParkCard(b);
console.log(b)}else console.log("Park not found")}).catch(b=>{console.error("Error fetching data:",b)})});
function createParkCard(c){parkNameEl.innerHTML="";parkDescriptionEl.innerHTML="";parkWeatherEl.innerHTML="";parkActivitiesEl.innerHTML="";const a=document.createElement("h2"),b=document.createElement("p"),e=document.createElement("p");parkNameEl.appendChild(a).textContent=c.park;parkDescriptionEl.appendChild(b).textContent=c.description;parkWeatherEl.appendChild(e).textContent=c.weather;const d=document.createElement("ul");c.activities.forEach(f=>{const g=document.createElement("li");d.appendChild(g).textContent=
f});parkActivitiesEl.appendChild(d)}const gallery=document.getElementById("gallery");
function getParkPhotos(c){c.preventDefault();fetch(`${"https://api.pexels.com/v1/search"}?query=${searchInput.value+" National Park"}&per_page=4`,{headers:{Authorization:"YHJTxEYXr7hGIeSQrGhw7Q5cjhlXubPRmgYVQUK7PXD6ZBhd3sjszejz"}}).then(a=>{if(!a.ok)throw Error("Failed to fetch images");return a.json()}).then(a=>{gallery.innerHTML="";a.photos.forEach(b=>{const e=document.createElement("img"),d=document.createElement("div");d.classList.add("img-container");e.src=b.src.medium;const f=document.createElement("p");
f.classList.add("citing");d.classList.add("img-container");f.textContent=`Photo by: ${b.photographer} on Pexels`;gallery.appendChild(d);d.appendChild(f);d.appendChild(e)})}).catch(a=>{console.error("Error fetching data:",a)})}function populateDatalist(){const c=document.getElementById("parks-list");parksArray.forEach(a=>{const b=document.createElement("option");b.value=a;c.appendChild(b)})}populateDatalist();function getRandomPark(){return parksArray[Math.floor(Math.random()*parksArray.length)]}openPage();
searchButton.addEventListener("click",getParkPhotos);
document.addEventListener("DOMContentLoaded",()=>{function c(){(document.querySelectorAll(".modal")||[]).forEach(a=>{a.classList.remove("is-active")})}(document.querySelectorAll(".js-modal-trigger")||[]).forEach(a=>{const b=document.getElementById(a.dataset.target);a.addEventListener("click",()=>{b.classList.add("is-active")})});(document.querySelectorAll(".modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button")||[]).forEach(a=>{const b=a.closest(".modal");a.addEventListener("click",
()=>{b.classList.remove("is-active")})});document.addEventListener("keydown",a=>{"Escape"===a.key&&c()})});function getRandomPark(){return parksArray[Math.floor(Math.random()*parksArray.length)]}
function openPage(){const c=`${"https://developer.nps.gov/api/v1/parks"}?q=${searchTerm}&api_key=${"zsg1JUezGGMHKiM4K9RLRe95wfbFzkZKZx5wr4V4"}`;console.log(searchTerm);fetch(c).then(a=>{if(!a.ok)throw Error("Network response was not ok");return a.json()}).then(a=>{if(a=a.data.find(b=>b.fullName.toLowerCase().includes(searchTerm.toLowerCase()))){const b=a.activities.map(e=>e.name);a={park:a.fullName,description:a.description,weather:a.weatherInfo,activities:b};createParkCard(a);console.log(a)}else console.log("Park not found")}).catch(a=>
{console.error("Error fetching data:",a)});fetch(`${"https://api.pexels.com/v1/search"}?query=${searchTerm+" National Park"}&per_page=4`,{headers:{Authorization:"YHJTxEYXr7hGIeSQrGhw7Q5cjhlXubPRmgYVQUK7PXD6ZBhd3sjszejz"}}).then(a=>{if(!a.ok)throw Error("Failed to fetch images");return a.json()}).then(a=>{gallery.innerHTML="";a.photos.forEach(b=>{const e=document.createElement("img"),d=document.createElement("div");d.classList.add("img-container");e.src=b.src.medium;const f=document.createElement("p");
f.classList.add("citing");d.classList.add("img-container");f.textContent=`Photo by: ${b.photographer} on Pexels`;gallery.appendChild(d);d.appendChild(f);d.appendChild(e)})}).catch(a=>{console.error("Error fetching data:",a)})}openPage();
function forecastWeather(c){c.preventDefault();const a=searchInput.value;fetch(`${weatherApiUrl}?q=${a}&units=imperial&appid=${weatherApiKey}`).then(b=>{if(b.ok)infoContainer.classList.add("column","is-three-quaters");else throw infoContainer.classList.add("column","is-full"),Error("Network response was not ok");return b.json()}).then(b=>{const e=document.createElement("h3");e.textContent=`Forecasted weather for ${a} National Park`;b=processForecastData(b);forecastContainer.innerHTML="";forecastContainer.appendChild(e);
b.forEach(d=>{d=createForecastCard(d);forecastContainer.appendChild(d)})}).catch(b=>{console.error("Error fetching data:",b);dashboard.removeChild(forecastContainer)})}
function processForecastData(c){const a=[],b=(new Date).getDate();c.list.forEach(e=>{var d=new Date(e.dt_txt);d.getDate()!==b&&12===d.getHours()&&(d=d.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),a.push({date:d,maxTemp:e.main.temp_max,minTemp:e.main.temp_min,humidity:e.main.humidity,description:e.weather[0].description,iconUrl:`http://openweathermap.org/img/w/${e.weather[0].icon}.png`}))});return a}
function createForecastCard(c){const a=document.createElement("div");a.classList.add("card","is-2-tablet","five-day");const b=document.createElement("h4");b.textContent=c.date;const e=document.createElement("div");e.textContent=c.description;const d=document.createElement("ul"),f=document.createElement("li");f.textContent=`High: ${c.maxTemp}\u00b0F`;const g=document.createElement("li");g.textContent=`Low: ${c.minTemp}\u00b0F`;const h=document.createElement("li");h.textContent=`Humidity: ${c.humidity}%`;
a.appendChild(b);a.appendChild(e);a.appendChild(d);d.appendChild(f);d.appendChild(g);d.appendChild(h);return a}searchButton.addEventListener("click",forecastWeather);
document.addEventListener("DOMContentLoaded",function(){fetch(`${weatherApiUrl}?q=${searchTerm}&units=imperial&appid=${weatherApiKey}`).then(c=>{if(c.ok)infoContainer.classList.add("column","is-three-quaters");else throw infoContainer.classList.add("column","is-full"),Error("Network response was not ok");return c.json()}).then(c=>{const a=document.createElement("h3");a.textContent=`Forecasted weather for ${searchTerm} National Park`;c=processForecastData(c);forecastContainer.innerHTML="";forecastContainer.appendChild(a);
c.forEach(b=>{b=createForecastCard(b);forecastContainer.appendChild(b)})}).catch(c=>{console.error("Error fetching data:",c);dashboard.removeChild(forecastContainer)})});